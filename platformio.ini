[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Enable USB Host support
board_build.arduino.usb_mode = host
board_build.arduino.usb_cdc_on_boot = true

; Memory configuration for larger applications
board_build.flash_mode = qio
board_build.partitions = huge_app.csv

; Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_HOST_MODE=1
    -DUSBCON
    -DUSB_PRODUCT="PTouch ESP32 Server"
    -DUSB_MANUFACTURER="Custom"

; Dependencies
lib_deps = 
    https://github.com/me-no-dev/ESPAsyncWebServer.git
    https://github.com/me-no-dev/AsyncTCP.git
    https://github.com/bblanchon/ArduinoJson.git
    https://github.com/espressif/arduino-esp32.git#3.0.0
    https://github.com/adafruit/Adafruit_GFX_Library.git
    https://github.com/Bodmer/TJpg_Decoder.git

; Monitor configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload configuration
upload_speed = 921600 